<div id="map_page" class="page" data-role="page" data-fullscreen="true">

  <div id="map_main" class="main content">
    
    <script type="text/javascript" src="js/leaflet.js"></script>
    
    <div id="subheader_map" data-role="control-group">
      <div class="category">Loading...</div>
    </div>
    
    <div id="mapContainer">      
      <div id="mapid">
      </div>
    </div>
    
  </div>
  
  <div id="map_settings" class="settings content">
    <div class="ui-field-contain no-field-separator">
      <label for="map_category">Category:</label>
      <select id="map_category" data-native-menu="false"></select>
    </div>
    
    <div class="ui-field-contain no-field-separator">
      <label for="map_provider">Data provider:</label>
      <select id="map_provider" value="Data provider" title="Data provider" data-native-menu="false">
        <option value="OSM">Open Street Map</option>
        <option value="MapBox">MapBox</option>
        <option value="ArcGIS">ArcGIS</option>
      </select>
    </div>
    
    <div class="ui-field-contain no-field-separator" data-role="controlgroup">
      <legend>Display all:</legend>
      <label for="map_showMarkers">markers</label>
      <input type="checkbox" id="map_showMarkers"></input>
      <label for="map_showPaths">paths</label>
      <input type="checkbox" id="map_showPaths"></input>
    </div>
    
    <div class="ui-field-contain no-field-separator" data-role="controlgroup">
      <legend>Power saving:</legend>
      <label for="map_powerSaving">powerSaving</label>
      <input type="checkbox" id="map_powerSaving"></input>
    </div>
    <div class="ui-field-contain no-field-separator">
      <label for="map_accuracy">Accuracy:</label>
      <input type="range" name="map_accuracy" id="map_accuracy" min="0" max="10" step="1"></input>
    </div>

    <div data-role="fieldcontain">
	  <input type="button" onClick="gotoPageMain(); return false;" class="btn fast" value="Cancel" title="cancel" data-inline="true"></input>
	  <input type="button" onClick="UI.map.submitSettings('apply'); return false;" class="btn fast" value="Apply" title="apply" data-inline="true"></input>
	  <input type="button" onClick="UI.map.submitSettings('OK'); return false;" class="btn fast" value="OK" title="OK" data-inline="true"/></input>
    </div>

  </div>
  
  <div id="map_help" class="help content">
    <p><strong>Map</strong></p>
    <p>The <strong>Map</strong> tool lets you view the location of your stopwatch and note events (if you have selected to save location information with those events). You drag and zoom the map by swiping and pinching, and you center the map by double clicking.</p>
    <p>The settings allow you to:
    <ul>
      <li>Select the data provider used for map imagery.</li>
      <li>Display all markers (locations) and paths (continuous locations).</li>
      <li>Select power saving mode, which governs background location updates.</li>
      <li>Set the accuracy (10 is the most accurate).</li>
    </ul>
    </p>
    <br/>
    <template>
      <img class="alignnone size-medium" src="https://psygraph.com/webclient/help/map.png" alt="map" width="300" />
      <img class="alignnone size-medium" src="https://psygraph.com/webclient/help/map_settings.png" alt="map_settings" width="300" />
    </template>
  </div>
  
  <script src="html/map.js"></script>
</div>
